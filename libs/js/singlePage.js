/*! 作者:阿伟 */
/*! git:https://github.com/awei-yu/JsLibs.git */
/*! 推荐sealoader模块加载器:https://www.npmjs.com/package/sealoader */
/*! 最后修改于 2016-04-18 11:35:42 */
!function(){var b=document.scripts,c=function(a){for(var c,d=b.length;c=b[--d];){var e=a(c);if(e)return e}},d=function(){if(document.currentScript)return document.currentScript.src;var b;try{a.b.c()}catch(d){b=d.stack,!b&&window.opera&&(b=(String(d).match(/of linked script \S+/g)||[]).join(" "))}return b?(b=b.split(/[@ ]/g).pop(),b="("===b[0]?b.slice(1,-1):b.replace(/\s/,""),b.replace(/(:\d+)?:\d+$/i,"")):c(function(a){return"interactive"===a.readyState?a.src:void 0})}(),e=function(a){c(function(b){return a||b.src===d?(b.parentNode.removeChild(b),!a):void 0})},f=function(a){var b=d.substr(d.indexOf("?")+1||d.length);if(""!==b){if(history.replaceState)try{window.stop()}catch(c){document.execCommand("stop")}var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(4==this.readyState){if(200!=this.status)throw Error("获取资源文件"+b+"失败!请检查");a&&a(this.responseText)}},e.open("get",("/"==b.substr(0,1)?"":"/")+b,!0),e.setRequestHeader("Content-type","text/html;charset=utf-8"),e.setRequestHeader("X-Requested-With","httpRequest"),e.setRequestHeader("If-Modified-Since","0"),e.send()}},g=function(){for(var a=window.parent.document.getElementsByTagName("iframe"),b=0,c=a.length;c>b;b++)if(a[b].contentWindow.document==document)return a[b]}(),h=function(a,b,c){var d=a.indexOf("<"+b+">");return-1==d?c?"":h(a,b.toUpperCase(),!0):a.substring(d+b.length+2,a.lastIndexOf("</"+b+">"))};g||f(function(a){if(history.replaceState){e(!0);var b=document.documentElement.outerHTML,c=window.location.href;c+=(-1==c.indexOf("?")?"?":"&")+"singlePage="+(new Date).getTime();var d=function(a){var b=a.contentWindow;a.height=Math.max(b.document.body.scrollHeight,b.document.documentElement.scrollHeight),a.fsrc?a.fsrc!=b.location.href?history.replaceState(null,b.document.title,b.location.href):history.replaceState(null,b.document.title,a.fsrc.substring(0,a.fsrc.lastIndexOf("singlePage")-1)):a.fsrc=a.src},f="<iframe src='"+c+"' width='100%' scrolling='no' frameborder='0' onload='("+d+")(this)'></iframe>";b=b.replace(h(b,"body"),"\n"+f+"\n"+a),document.write(b)}else{e(),b=document.documentElement.outerHTML;var g=h(b,"body");b=b.replace(g,g+"\n"+a),document.write(b)}})}();