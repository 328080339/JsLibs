define(function(require,a,b){var c=require("seajs-httpClient"),d=require("seajs-waiting"),e=require("/seajs-myUtils");for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f]);String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,"gm"),b)},HTMLElement.prototype.removeClass=function(a){var b=new RegExp(a+" *","g");this.className=this.className.replace(b,"")},HTMLElement.prototype.addClass=function(a){new RegExp(" "+a+" ","g").test(" "+this.className+" ")||(this.className+=" "+a)},Number.prototype.plusSign=function(){return this>0?"+"+this:this+""},String.prototype.plusSign=Number.prototype.plusSign,window.addEventListener("pageshow",function(a){a.persisted&&location.reload()}),Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};var g=new function(){var a={};this.main=function(b,d){if(a.hasOwnProperty(b)){var e=a[b];if(e.isLoading)return e.delayDo||(e.delayDo=[]),void e.delayDo.push(d);if(e.isLoadOver)return void(d&&d())}a[b]={isLoading:!0},c.get(b,function(c){var e=document.createElement("div");e.innerHTML=c;for(var f=0,g=e.childNodes.length;g>f;f++)document.body.appendChild(e.childNodes[f]);d&&d();var h=a[b];if(h.delayDo){for(var f=0,g=h.delayDo.length;g>f;f++)h.delayDo[f]&&h.delayDo[f]();h.delayDo=null}a[b].isLoading=!1,a[b].isLoadOver=!0})}},h=function(a,b){this.num=a.length,this.fuc=b,d.show();for(var c=0;c<a.length;c++)this.loadFile(a[c]);d.hide()};h.prototype.loadFile=function(a){var b=this;"string"==typeof a&&(a=[a]);var c=a[0].split("."),d=c.length>1&&"html"==c[c.length-1]?g.main:seajs.use;1==a.length?d(a[0],function(){0==--b.num&&b.fuc&&b.fuc()}):d(a[0],function(){a.shift(),b.loadFile(a)})},a.use=function(a,b){seajs.use("seajs-css",function(){new h(a,b)})},a.$id=function(a){return document.getElementById(a)},a.$name=function(a){return document.getElementsByName(a)},a.$tagName=function(a){return document.getElementsByTagName(a)},a.go=function(a,b){d.show(),b?location.replace(a):location.href=a},"true"==sessionStorage.getItem("refresh")&&(sessionStorage.setItem("refresh",!1),location.reload()),a.back=function(a,b){return a===!0?(sessionStorage.setItem("refresh",!0),void history.go(-1)):(b&&sessionStorage.setItem("refresh",!0),void(a?history.go(-Math.abs(a)):history.go(-1)))},a.newInstance=function(){return a}});